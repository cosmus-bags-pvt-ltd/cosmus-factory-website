{% extends 'product/base.html' %} 
{% load static %} 
{% block body %}

<style>
    .clickable-row:hover {
        background-color: #f5f5f5;
        cursor: pointer;
        transition: 0.3s;
    }
</style>

<table class="table table-striped table-hover table-bordered text-center">
    <thead class="name_absolute sticky-top">
        <tr class="text-center">
            <th>Product Image</th>
            <th>Product Color</th>
            <th>SKU</th>
            <th>Reference ID</th>
            <th>Model Name</th>
            <th>T LWO =</th>
            <th>T Rec As LWI =</th>
            <th>Bal For LWI =</th>
        </tr>
    </thead>
    <tbody class="mainTableList">
        {% for item in final_report %}
        <tr class="text-center clickable-row" data-href="/finishedgoodscolorchallanandgrnvisereport/{{ item.reference_id }}/">
            <td class="text-center"><img src="{{MEDIA_URL}}{{ item.product_image }}" width="50" height="50"></td>
            <td>{{ item.product_color }}</td>
            <td>{{ item.product_sku }}</td>
            <td>{{ item.reference_id }}</td>
            <td>{{ item.model_name }}</td>
            <td>{{ item.total_process }}</td>
            <td>{{ item.total_process_lwi }}</td>
            <td>{{ item.total_balance }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const rows = document.querySelectorAll('.clickable-row');
        rows.forEach(row => {
            row.addEventListener('click', function() {
                console.log("ok")
                window.location.href = row.getAttribute('data-href');
            });
        });
    });
</script>
{% endblock body %}